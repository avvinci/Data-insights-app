<!DOCTYPE html>
<html>  
    <head>
        <meta charset="utf-8">
        <title>D3 Insights</title>
        <script src="https://d3js.org/d3.v5.js"></script>
        <style>
            circle{
                fill: none;
                stroke: blue;
                stroke-width: 2px ; 
            }
        
        </style>
    </head>
    <body>
        <script>
            const xColumn = 'book';
            const yColumn= 'value';
            // const rColumn  ;
            const outerWidth = 500; 
            const outerHeight= 500;
            const rMin = 5 ; 
            const rMax = 5; 

            var svg = d3.select('body').append('svg')
                        .attr( "width", outerWidth)
                        .attr("height", outerHeight)
                        .attr("background-color", 'blue')
    
            // console.log(svg)
            let xScale  = d3.scaleLinear().range([0,outerWidth])
            let yScale  = d3.scaleLinear().range([outerHeight,0])
            // let rScale  ;
    
            function render(data){
                console.log(data) ; 
                xScale.domain(d3.extent(data, function(d){  return d[xColumn] }))
                yScale.domain(d3.extent(data, function(d){  return d[yColumn] }))
                let circles  = svg.selectAll("cicle").data(data)
                circles.enter().append('circle')
                circles
                    .attr("r", rMin)
                    .attr("cx", function(d) { return xScale(d[xColumn]) })
                    .attr("cy", function(d) { return yScale(d[yColumn]) })
                    // .attr(r, function(d) { return rScale(d[rColumn]) })
                console.log(circles)
                circles.exit().remove() 
    
            }
    
    
            function type(d){
                // d[rColumn] = +d[rColumn]
                d[xColumn] = +d[xColumn]
                d[yColumn] = +d[yColumn]
                return d
            }
    
            d3.tsv("data.tsv").then(render);
    
        
        </script>
            
    </body>

</html>

